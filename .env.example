# =============================================================================
# Family Finance Web Application - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
APP_NAME="Family Finance"
APP_VERSION=1.0.0
APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Neon PostgreSQL)
# -----------------------------------------------------------------------------
# Get from: https://console.neon.tech/
# Format: postgresql://username:password@hostname/database?sslmode=require
DATABASE_URL="postgresql://username:password@ep-example-123456.us-east-1.aws.neon.tech/family_finance?sslmode=require"

# Database connection pool settings
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECTION_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=300000
DATABASE_SSL_REJECT_UNAUTHORIZED=true

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET="your-jwt-secret-key-here-make-it-long-and-random"
JWT_EXPIRES_IN="24h"
JWT_REFRESH_EXPIRES_IN="7d"

# NextAuth.js configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET="your-nextauth-secret-here-also-make-it-random"

# Session configuration
SESSION_SECRET="your-session-secret-for-cookie-signing"
SESSION_MAX_AGE=86400

# Password hashing
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# PLAID BANK INTEGRATION
# -----------------------------------------------------------------------------
# Get from: https://dashboard.plaid.com/
PLAID_CLIENT_ID="your-plaid-client-id"
PLAID_SECRET="your-plaid-secret-key"
PLAID_ENV="sandbox"
PLAID_PRODUCTS="transactions,auth"
PLAID_COUNTRY_CODES="US"
PLAID_WEBHOOK_URL="https://yourdomain.com/api/plaid/webhook"

# -----------------------------------------------------------------------------
# EMAIL SERVICE (Resend)
# -----------------------------------------------------------------------------
# Get from: https://resend.com/
RESEND_API_KEY="re_your-resend-api-key-here"
EMAIL_FROM="noreply@familyfinance.app"
EMAIL_FROM_NAME="Family Finance"

# Development email settings (for testing)
SMTP_HOST="smtp.mailtrap.io"
SMTP_PORT="2525"
SMTP_USER="your-mailtrap-username"
SMTP_PASS="your-mailtrap-password"

# -----------------------------------------------------------------------------
# SECURITY HEADERS
# -----------------------------------------------------------------------------
# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=""

# HSTS settings
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
CORS_ORIGIN="http://localhost:3000"
CORS_CREDENTIALS=true

# -----------------------------------------------------------------------------
# LOGGING & MONITORING
# -----------------------------------------------------------------------------
# Logging configuration
LOG_LEVEL="info"
LOG_FORMAT="json"
LOG_CONSOLE=true
LOG_FILE=false
LOG_FILE_PATH="./logs"
LOG_MAX_SIZE=50000000
LOG_MAX_FILES=5

# Vercel Analytics and Monitoring
NEXT_PUBLIC_VERCEL_ANALYTICS_ENABLED=true
VERCEL_ANALYTICS_DEBUG=false

# Performance monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_MONITORING_SAMPLE_RATE=1.0

# Error tracking configuration
ERROR_TRACKING_ENABLED=true
ERROR_TRACKING_SAMPLE_RATE=1.0

# Backup configuration
BACKUP_ENCRYPTION_KEY=""
BACKUP_S3_BUCKET=""

# Sentry error tracking (optional)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"

# -----------------------------------------------------------------------------
# REDIS CACHE (Optional - not used in zero-cost setup)
# -----------------------------------------------------------------------------
# REDIS_URL="redis://localhost:6379"
# REDIS_PASSWORD=""
# CACHE_TTL=300

# -----------------------------------------------------------------------------
# FILE UPLOAD & STORAGE
# -----------------------------------------------------------------------------
# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE=5242880
UPLOAD_DIR="./uploads"

# AWS S3 (optional for production)
# AWS_ACCESS_KEY_ID=""
# AWS_SECRET_ACCESS_KEY=""
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET=""

# -----------------------------------------------------------------------------
# API CONFIGURATION
# -----------------------------------------------------------------------------
API_PREFIX="/api"
API_VERSION="v1"
API_TIMEOUT=30000

# OpenAPI documentation
OPENAPI_ENABLED=true
SWAGGER_UI_ENABLED=true

# -----------------------------------------------------------------------------
# DEVELOPMENT SETTINGS
# -----------------------------------------------------------------------------
# Enable/disable certain features in development
DEV_DISABLE_AUTH=false
DEV_MOCK_PLAID=false
DEV_LOG_SQL=true
DEV_CORS_ALLOW_ALL=false

# Hot reload settings
CHOKIDAR_USEPOLLING=false

# -----------------------------------------------------------------------------
# PRODUCTION OVERRIDES
# -----------------------------------------------------------------------------
# These should be overridden in production environments
# TRUST_PROXY=true
# SECURE_COOKIES=true
# SAME_SITE_COOKIE="strict"

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_MFA_REQUIRED=false
FEATURE_EMAIL_VERIFICATION=true
FEATURE_AUDIT_LOGGING=true
FEATURE_RATE_LIMITING=true

# -----------------------------------------------------------------------------
# BACKUP & MAINTENANCE
# -----------------------------------------------------------------------------
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
MAINTENANCE_MODE=false

# -----------------------------------------------------------------------------
# ANALYTICS & TRACKING
# -----------------------------------------------------------------------------
# Google Analytics (optional)
# GA_TRACKING_ID=""

# Vercel Analytics
# NEXT_PUBLIC_VERCEL_ANALYTICS=true

# -----------------------------------------------------------------------------
# WEBHOOKS & INTEGRATIONS
# -----------------------------------------------------------------------------
WEBHOOK_SECRET="your-webhook-secret-for-signature-verification"

# -----------------------------------------------------------------------------
# TIMEZONE & LOCALIZATION
# -----------------------------------------------------------------------------
DEFAULT_TIMEZONE="America/New_York"
DEFAULT_CURRENCY="USD"
DEFAULT_LOCALE="en-US"